<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividades - PEMSAM</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="imagenes/LOGO-removebg-preview.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <img src="imagenes/colsam_logo.png" alt="Escudo" class="escudo-fijo">
    <header id="main-header">
        <div class="logo">PEMSAM</div>
        <nav id="main-nav">
            <a href="index.html">INICIO</a>
            <a href="nosotros.html">NOSOTROS</a>
            <a href="juegos.html" class="active">ACTIVIDADES</a>
            <a href="contactanos.html">CONTACTANOS</a>
            <a href="https://www.colsam.edu.co/" target="_blank">SAN ALBERTO MAGNO</a>
        </nav>
        <div class="hamburger" id="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="dropdown-menu" id="dropdown-menu">
            <a href="index.html">INICIO</a>
            <a href="nosotros.html">NOSOTROS</a>
            <a href="juegos.html" class="active">ACTIVIDADES</a>
            <a href="contactanos.html">CONTACTANOS</a>
            <a href="#">SAN ALBERTO MAGNO</a>
        </div>
    </header>

    <section class="games-section">
        <h2>Actividades</h2>
        <div class="games-grid">
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-running"></i></div>
                <h3>Carrera de Obstáculos</h3>
                <p>Supera obstáculos y mejora tu agilidad.</p>
                <a href="#" class="play-game-btn" data-game="obstacle">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-bullseye"></i></div>
                <h3>Puntería</h3>
                <p>Desarrolla tu precisión y coordinación.</p>
                <a href="#" class="play-game-btn" data-game="aim">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-puzzle-piece"></i></div>
                <h3>Rompecabezas</h3>
                <p>Resuelve puzzles para estimular tu mente.</p>
                <a href="#" class="play-game-btn" data-game="puzzle">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-tree"></i></div>
                <h3>Ascenso al Árbol</h3>
                <p>Escala y mejora tu fuerza y equilibrio.</p>
                <a href="#" class="play-game-btn" data-game="tree">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-drum"></i></div>
                <h3>Teclado Musical</h3>
                <p>Aprende música y ritmo jugando.</p>
                <a href="#" class="play-game-btn" data-game="music">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-paw"></i></div>
                <h3>Identificación de Animales</h3>
                <p>Reconoce animales y aprende sobre ellos.</p>
                <a href="#" class="play-game-btn" data-game="animals">Jugar</a>
            </div>
        <div class="game-card">
                <div class="game-icon"><i class="fas fa-bomb"></i></div>
                <h3>Busca Minas</h3>
                <p>Descubre casillas sin detonar las minas.</p>
                <a href="#" class="play-game-btn" data-game="buscamina">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-table-tennis-paddle-ball"></i></div>
                <h3>Ping Pong</h3>
                <p>Desafía a la CPU en un clásico Ping Pong.</p>
                <a href="#" class="play-game-btn" data-game="pingpong">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-paint-brush"></i></div>
                <h3>Colorear</h3>
                <p>Elige colores y pinta una escena divertida.</p>
                <a href="#" class="play-game-btn" data-game="colorear">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-palette"></i></div>
                <h3>Colores</h3>
                <p>Haz clic en el color que se ilumina.</p>
                <a href="#" class="play-game-btn" data-game="colores">Jugar</a>
            </div>
                        <div class="game-card">
                <div class="game-icon"><i class="fas fa-brain"></i></div>
                <h3>Memorama</h3>
                <p>Encuentra todas las parejas de animales.</p>
                <a href="#" class="play-game-btn" data-game="memorama">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-pencil-alt"></i></div>
                <h3>Dibujo libre</h3>
                <p>Pinta con diferentes colores y pinceles.</p>
                <a href="#" class="play-game-btn" data-game="dibujo">Jugar</a>
            </div>
            <div class="game-card">
                <div class="game-icon"><i class="fas fa-gamepad"></i></div>
                <h3>Snake</h3>
                <p>Controla la serpiente y come la comida sin chocar.</p>
                <a href="#" class="play-game-btn" data-game="snake">Jugar</a>
            </div>
                                                                    </div>
    </section>

    <!-- Mascota asistente en Actividades -->
    <style>
      .mascot { position: fixed; bottom: 20px; right: 20px; z-index: 4000; display: flex; align-items: flex-end; gap: 10px; }
      .mascot-avatar { width: 64px; height: 64px; border-radius: 50%; background: var(--amarillo); color: var(--azul); display:flex; align-items:center; justify-content:center; font-size: 34px; box-shadow: 0 8px 18px rgba(0,0,0,0.18); border: 2px solid var(--azul); cursor: grab; user-select: none; }
      .mascot-bubble { max-width: 280px; background: #fff; color: var(--azul); border: 2px solid var(--azul); border-radius: 12px; padding: 10px 12px; box-shadow: 0 10px 22px rgba(6,9,102,0.10); position: relative; }
      .mascot-bubble:after { content: ''; position: absolute; right: -10px; bottom: 18px; border-width: 10px; border-style: solid; border-color: transparent transparent transparent var(--azul); }
      .mascot-actions { display: flex; gap: 8px; margin-top: 8px; }
      .mascot-actions button { background: var(--azul); color: #fff; border: none; border-radius: 8px; padding: 6px 10px; font-size: 0.9rem; cursor: pointer; }
      .mascot-actions button:hover { background: var(--amarillo); color: var(--azul); }
      .mascot.minimized .mascot-bubble { display: none; }
      .mascot.minimized .mascot-avatar { transform: scale(0.95); opacity: .95; cursor: pointer; }
    </style>
    <style>
      .games-grid .game-card{display:flex;flex-direction:column}
      .games-grid .game-card p{margin-bottom:10px}
      .games-grid .game-card .play-game-btn{margin-top:auto}
    </style>

    <style>
    /* Subrayado multicolor para menús (hover) */
    #main-nav a, #dropdown-menu a, .footer .footer-content a { text-decoration: none; }
    #main-nav a:hover, #dropdown-menu a:hover, .footer .footer-content a:hover {
      text-decoration: underline;
      text-underline-offset: 4px;
      text-decoration-thickness: 3px;
      animation: underlineHue 6s linear infinite;
    }
    @keyframes underlineHue {
      0% { text-decoration-color: var(--azul); }
      33% { text-decoration-color: var(--amarillo); }
      66% { text-decoration-color: var(--verde); }
      100% { text-decoration-color: var(--azul); }
    }
    /* Animación de aparición de tarjetas */
    .games-grid .game-card { animation: fadeUp .6s ease both; }
    .games-grid .game-card:nth-child(1){animation-delay:.05s}
    .games-grid .game-card:nth-child(2){animation-delay:.1s}
    .games-grid .game-card:nth-child(3){animation-delay:.15s}
    .games-grid .game-card:nth-child(4){animation-delay:.2s}
    .games-grid .game-card:nth-child(5){animation-delay:.25s}
    .games-grid .game-card:nth-child(6){animation-delay:.3s}
    .games-grid .game-card:nth-child(7){animation-delay:.35s}
    .games-grid .game-card:nth-child(8){animation-delay:.4s}
    .games-grid .game-card:nth-child(9){animation-delay:.45s}
    .games-grid .game-card:nth-child(10){animation-delay:.5s}
    .games-grid .game-card:nth-child(11){animation-delay:.55s}
    .games-grid .game-card:nth-child(12){animation-delay:.6s}
    @keyframes fadeUp { from { opacity:0; transform: translateY(10px);} to { opacity:1; transform: translateY(0);} }
    /* Hover en botones de juego */
    .play-game-btn { transition: transform .15s ease, box-shadow .15s ease; }
    .play-game-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 14px rgba(0,0,0,.12); }
    /* Avatar del asistente con flotación sutil */
    .mascot-avatar { animation: floatY 3s ease-in-out infinite; }
    @keyframes floatY { 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-4px);} }
    /* Título de sección con brillo suave */
    .games-section h2 { position: relative; display: inline-block; animation: titleGlow 2.2s ease-in-out infinite; }
    @keyframes titleGlow { 0%,100%{ text-shadow: 0 0 0 rgba(0,0,0,0);} 50%{ text-shadow: 0 2px 10px rgba(6,9,102,.25);} }
    </style>

    <div id="site-mascot" class="mascot" aria-live="polite">
        <div class="mascot-bubble">
            <div class="mascot-text">Elige un juego y presiona “Jugar”. ¡Te daré consejos!</div>
            <div class="mascot-actions">
                <button id="mascot-next" aria-label="Siguiente tip">Siguiente</button>
            </div>
                    </div>
        <div class="mascot-avatar" title="Asistente SAM">🤖</div>
    </div>

    <!-- Modal genérico con iframe para cargar juegos externos -->
    <div id="game-frame-modal" class="game-modal">
        <div class="game-modal-content">
            <span class="close-modal">&times;</span>
            <button id="bgm-toggle" aria-label="Música" title="Música" style="position:absolute;left:16px;top:10px;border:2px solid var(--azul);background:var(--blanco);color:var(--azul);border-radius:20px;padding:4px 10px;cursor:pointer;z-index:2">🔈</button>
            <h3 id="game-frame-title">Juego</h3>
            <div style="width:90vw;max-width:900px;height:70vh;max-height:700px;margin:10px auto;border:2px solid var(--azul);border-radius:10px;overflow:hidden;">
                <iframe id="game-iframe" src="" title="Juego" style="width:100%;height:100%;border:0;"></iframe>
            </div>
            <audio id="game-bgm" src="imagenes/bgm.mp3" preload="auto" loop></audio>
        </div>
    </div>
            
    <footer id="contacto" class="footer">
        <div class="footer-wave">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" fill="var(--azul)"></path>
                <path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" fill="var(--azul)"></path>
                <path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" fill="var(--azul)"></path>
            </svg>
        </div>
        
        <div class="footer-content">
            <div class="footer-column">
                <h3>Explora</h3>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    <li><a href="juegos.html">Actividades</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Actividades</h3>
                <ul>
                    <li><a href="#" data-game="obstacle">Carrera de Obstáculos</a></li>
                    <li><a href="#" data-game="aim">Puntería</a></li>
                    <li><a href="#" data-game="puzzle">Rompecabezas</a></li>
                    <li><a href="#" data-game="tree">Ascenso al Árbol</a></li>
                    <li><a href="#" data-game="maze">Laberinto</a></li>
                    <li><a href="#" data-game="music">Teclado Musical</a></li>
                    <li><a href="#" data-game="animals">Identificación de Animales</a></li>
                    <li><a href="#" data-game="buscamina">Busca Minas</a></li>
                    <li><a href="#" data-game="pingpong">Ping Pong</a></li>
                    <li><a href="#" data-game="colorear">Colorear</a></li>
                    <li><a href="#" data-game="colores">Colores</a></li>
                                        <li><a href="#" data-game="memorama">Memorama</a></li>
                    <li><a href="#" data-game="dibujo">Dibujo libre</a></li>
                    <li><a href="#" data-game="snake">Snake</a></li>
                                                                            </ul>
            </div>
            
            <div class="footer-column">
                <h3>Contacto</h3>
                <div class="contact-info">
                    <p><i class="fas fa-envelope"></i> grupopemsam@gmail.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> Colegio San Alberto Magno Cra. 3c #9171, Barranquilla, Atlántico</p>
                </div>
            </div>
            
            <div class="footer-column newsletter">
                <div class="social-links">
                    <a href="https://www.facebook.com/colegiosanalbertomagnobarranquilla/" aria-label="Facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/colsambarranquilla/" aria-label="Instagram" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 PEMSAM. Todos los derechos reservados.</p>
            <div class="footer-links">
                <a href="#">Política de privacidad</a>
                 <a href="tyc.html">Términos y Condiciones</a>
                <a href="#">Cookies</a>
            </div>
        </div>
    </footer>

    <script>
    // Sticky header, hide nav, show hamburger
    const header = document.getElementById('main-header');
    const nav = document.getElementById('main-nav');
    const hamburger = document.getElementById('hamburger-menu');
    const dropdown = document.getElementById('dropdown-menu');

    window.addEventListener('scroll', () => {
        if(window.scrollY > 50) {
            header.classList.add('sticky');
            nav.classList.add('hide');
            hamburger.classList.add('show');
        } else {
            header.classList.remove('sticky');
            nav.classList.remove('hide');
            hamburger.classList.remove('show');
            dropdown.classList.remove('show');
        }
    });

    hamburger.addEventListener('click', () => {
        dropdown.classList.toggle('show');
    });
    </script>
    <script>
      // Lanzador de juegos por iframe
      (function(){
        const MAP = {
          obstacle: 'juegos/obstacle/index.html',
          aim: 'juegos/aim/index.html',
           puzzle: 'juegos/puzzle/puzzle.html',
          tree: 'juegos/tree/index.html',
          maze: 'juegos/maze/index.html',
          music: 'juegos/music/music.html',
          animals: 'juegos/animals/index.html',
          buscamina: 'juegos/buscaminas/index.html',
          pingpong: 'juegos/pingpong/index.html',
          colorear: 'juegos/colorear/index.html',
          colores: 'juegos/colores/index.html',
                    memorama: 'juegos/memorama/index.html',
          dibujo: 'juegos/dibujo/index.html',
          snake: 'juegos/snake/index.html'
        };
        const modal = document.getElementById('game-frame-modal');
        const iframe = document.getElementById('game-iframe');
        const title = document.getElementById('game-frame-title');
        const bgm = document.getElementById('game-bgm');
        const bgmToggle = document.getElementById('bgm-toggle');
        let bgmReady = false;
        function ensureBgm(){
          if (!bgm) return;
          if (!bgmReady) { bgm.muted = false; bgmReady = true; }
          bgm.play().catch(()=>{});
          if (bgmToggle) bgmToggle.textContent = bgm.muted ? '🔇' : '🔊';
        }
        function stopBgm(){ if (bgm) bgm.pause(); }
        if (bgmToggle) {
          bgmToggle.addEventListener('click', ()=>{
            if (!bgm) return;
            if (bgm.paused) { ensureBgm(); } else { bgm.pause(); }
            bgmToggle.textContent = (bgm.paused || bgm.muted) ? '🔇' : '🔊';
          });
        }
        function open(game){
          const url = MAP[game];
          if(!url || !modal || !iframe){ return; }
          if (title) {
            const t = document.querySelector(`[data-game="${game}"]`)?.closest('.game-card')?.querySelector('h3')?.textContent
                || document.querySelector(`.footer-column a[data-game="${game}"]`)?.textContent || 'Juego';
            title.textContent = t;
          }
          iframe.src = url;
          modal.style.display = 'flex';
          ensureBgm();
        }
        function close(){ if(!modal || !iframe) return; modal.style.display='none'; iframe.src=''; stopBgm(); }
        document.querySelectorAll('.play-game-btn, .footer-column ul li a[data-game]').forEach(el=>{
          el.addEventListener('click', function(e){ e.preventDefault(); open(el.getAttribute('data-game')); });
        });
        modal?.querySelector('.close-modal')?.addEventListener('click', close);
        modal?.addEventListener('click', (e)=>{ if(e.target===modal) close(); });
      })();
    </script>
    <script>
      // Mascota asistente (Actividades)
      (function(){
        const mascot = document.getElementById('site-mascot');
        if (!mascot) return;
        const bubble = mascot.querySelector('.mascot-text');
        const nextBtn = document.getElementById('mascot-next');
        const avatar = mascot.querySelector('.mascot-avatar');
        const tips = [
          // Juegos originales
          'Carrera de Obstáculos: usa W y S para moverte sin chocar.',
          'Puntería: mueve el cursor y haz clic en los objetivos.',
          'Rompecabezas: arrastra las piezas hasta su lugar.',
          'Ascenso al Árbol: W para izquierda, O para derecha.',
          'Laberinto: evita tocar los muros y llega a la salida.',
          'Teclado Musical: toca C D E F G A B en el orden mostrado.',
          'Identificación de Animales: elige o escribe el nombre correcto.',
          // Nuevos juegos
          'Colorear: elige una lámina y pinta las zonas “pintables” con la paleta o un color personalizado.',
          'Colores: toca el cuadrado que se ilumina para sumar puntos. ¡Cada vez va más rápido!',
          'Memorama: voltea cartas de animales y encuentra todas las parejas. Observa y recuerda.',
          'Dibujo libre: selecciona color y grosor del pincel para crear tu obra. Usa “Limpiar” si quieres empezar de nuevo.',
          'Busca Minas: descubre casillas evitando las minas. Usa los números como pista para deducir dónde están.',
          'Ping Pong: gana puntos devolviendo la pelota. Mantén la vista en la trayectoria para anticiparte.',
          'Snake: usa las flechas para comer la comida y crecer. Empieza lento y acelera tras cada bocado.'
        ];
        let idx = 0;
        function show(i){ idx = (i + tips.length) % tips.length; bubble.textContent = tips[idx]; }
        let timer = setInterval(()=> show(idx+1), 12000);
        function resetTimer(){ clearInterval(timer); timer = setInterval(()=> show(idx+1), 12000); }
        nextBtn.addEventListener('click', ()=> { show(idx+1); resetTimer(); });
        avatar.addEventListener('click', ()=> { if (mascot.classList.contains('minimized')) mascot.classList.remove('minimized'); });
        // Arrastrar
        let dragging=false, startX=0,startY=0,startRight=0,startBottom=0;
        avatar.addEventListener('mousedown', (e)=> { dragging=true; mascot.style.transition='none'; startX=e.clientX; startY=e.clientY; const rect=mascot.getBoundingClientRect(); startRight = window.innerWidth - rect.right; startBottom = window.innerHeight - rect.bottom; document.body.style.userSelect='none'; });
        window.addEventListener('mousemove', (e)=> { if (!dragging) return; const dx = e.clientX - startX; const dy = e.clientY - startY; mascot.style.right = Math.max(8, startRight - dx) + 'px'; mascot.style.bottom = Math.max(8, startBottom - dy) + 'px'; });
        window.addEventListener('mouseup', ()=> { if (!dragging) return; dragging=false; mascot.style.transition=''; document.body.style.userSelect=''; });
      })();
    </script>
</body>
</html>
