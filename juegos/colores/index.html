<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego de Colores</title>
  <style>
    :root { --azul:#069; --amarillo:#fc0; --verde:#393; --negro:#1d1d1b; --blanco:#fff; }
    *{box-sizing:border-box}
    html, body{height:100%; overflow:hidden}
    body{margin:0;font-family:'Segoe UI',Arial,sans-serif;background:#f3f5f8;color:#234;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:16px}
    .panel{background:#fff;border:3px solid var(--azul);border-radius:16px;box-shadow:0 16px 36px rgba(0,0,0,.14);width:min(92vw,720px);padding:18px}
    h1{margin:0 0 8px 0;color:var(--azul)}
    p{margin:0 0 12px 0;color:#456}
    .score{font-weight:800;color:#024e73;margin-bottom:10px}
    .grid{display:grid;grid-template-columns:repeat(4,100px);gap:14px;justify-content:center;margin:18px 0}
    .color-option{width:100px;height:100px;border-radius:14px;border:3px solid #0003;transition:transform .15s, box-shadow .15s;cursor:pointer}
    .btns{display:flex;gap:8px;justify-content:center}
    button{border:2px solid var(--azul);background:var(--azul);color:#fff;border-radius:10px;padding:8px 14px;font-weight:700;cursor:pointer}
    button:hover{background:var(--amarillo);color:var(--azul)}
  </style>
</head>
<body>
  <div class="panel" role="application" aria-label="Juego de Colores">
    <h1>Juego de Colores</h1>
    <p>Toca el color que se ilumina para sumar puntos. ¡Intenta acertar rápido!</p>
    <div id="colorScore" class="score">Puntuación: 0</div>
    <div class="grid">
      <div id="color1" class="color-option"></div>
      <div id="color2" class="color-option"></div>
      <div id="color3" class="color-option"></div>
      <div id="color4" class="color-option"></div>
    </div>
    <div class="btns">
      <button id="startBtn">Empezar</button>
      <button id="stopBtn">Detener</button>
      <button id="resetBtn">Reiniciar</button>
    </div>
  </div>

  <script>
    let currentColor = 0;
    let colorScore = 0;
    let colorInterval;

    const scoreEl = document.getElementById('colorScore');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtn = document.getElementById('resetBtn');

    function setup(){
      document.getElementById('color1').style.backgroundColor = 'red';
      document.getElementById('color2').style.backgroundColor = 'blue';
      document.getElementById('color3').style.backgroundColor = 'green';
      document.getElementById('color4').style.backgroundColor = 'yellow';
      document.querySelectorAll('.color-option').forEach((el, idx)=>{
        el.addEventListener('click', ()=> checkColor(idx+1));
      });
      startBtn.addEventListener('click', start);
      stopBtn.addEventListener('click', stop);
      resetBtn.addEventListener('click', reset);
    }

    function start(){
      stop();
      colorScore = 0; scoreEl.textContent = 'Puntuación: 0';
      colorInterval = setInterval(changeActiveColor, 1500);
      changeActiveColor();
    }
    function stop(){ clearInterval(colorInterval); colorInterval = null; clearHighlight(); }
    function reset(){ stop(); colorScore = 0; scoreEl.textContent = 'Puntuación: 0'; }

    function clearHighlight(){
      for(let i=1;i<=4;i++){ document.getElementById('color'+i).style.boxShadow = 'none'; }
    }
    function changeActiveColor(){
      clearHighlight();
      currentColor = Math.floor(Math.random()*4)+1;
      document.getElementById('color'+currentColor).style.boxShadow = '0 0 22px 10px #fc0';
    }
    function checkColor(color){
      if (color === currentColor && colorInterval){
        colorScore++;
        scoreEl.textContent = 'Puntuación: ' + colorScore;
        const el = document.getElementById('color'+color);
        el.style.transform = 'scale(1.1)';
        setTimeout(()=> el.style.transform='scale(1)', 180);
      }
    }

    setup();
  </script>
</body>
</html>
